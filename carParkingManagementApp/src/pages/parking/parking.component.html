<div class="row">
  <div class="col-10 text-center">
    <div class="btn-group">
      @for (item of parkingLotList; track $index) {
      <button
        type="button"
        class="btn"
        [ngClass]="
          selectedParkingLot.parkingLotId == item.parkingLotId
            ? 'btn btn-success'
            : 'btn btn-primary'
        "
        (click)="setSelectParkigLot(item)"
      >
        {{ item.parkingLotName }}
      </button>
      }
    </div>
  </div>
  <div class="col-2">
    <button type="button" class="btn btn-primary">
      <i class="fa fa-plus mx-2"></i>New
    </button>
  </div>
</div>

<div class="parking-lot pt-2">
  <!-- Sample parking spots -->
  @for (item of parkingSpot; track $index) { @if (checkActiveParkingSpot(item)
  != undefined){
  <div
    class="parking-spot-booked"
    (click)="openReleseModel(checkActiveParkingSpot(item))"
  >
    <div class="car">
      <i class="fa fa-car"></i>
    </div>
    <div class="car-no">
      <small>{{ checkActiveParkingSpot(item).vehicleNo }}</small>
    </div>
    {{ item }}
  </div>

  }@else {

  <div class="parking-spot" (click)="openModel(item)">{{ item }}</div>
  } }
</div>

<div class="modal" id="bookModal">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header bg-warning">
        <h4 class="modal-title">In Entry</h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          (click)="closeModel()"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-6">
            <label for="">Spot No</label>
            <input
              type="text"
              [(ngModel)]="bookingSpotobj.spotNo"
              [value]="selectedparkingSpotNo"
              class="form-control"
              disabled
            />
          </div>
          <div class="col-6">
            <label for="">Vehicle No</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="bookingSpotobj.vehicleNo"
              placeholder="Enter Vehicle No"
            />
          </div>
          <div class="col-6">
            <label for="">In-Time</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="bookingSpotobj.inTime"
              placeholder="Enter In-Time"
            />
          </div>
          <div class="col-6">
            <label for="">Mobile No</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="bookingSpotobj.mobileNo"
              placeholder="Enter Mobile"
            />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
          (click)="closeModel()"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-success"
          data-bs-dismiss="modal"
          (click)="onbookspot()"
        >
          Book
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="releaseBookModal">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header bg-warning">
        <h4 class="modal-title">Out Entry</h4>
        <button
          type="button"
          class="btn-close"
          (click)="closeReleseModel()"
          data-bs-dismiss="modal"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-6">
            <label for="">Spot No</label>
            <input
              type="text"
              [(ngModel)]="selectedParkedObj.spotNo"
              [value]="selectedparkingSpotNo"
              class="form-control"
              disabled
            />
          </div>
          <div class="col-6">
            <label for="">Vehicle No</label>
            <input
              type="text"
              [(ngModel)]="selectedParkedObj.vehicleNo"
              class="form-control"
              disabled
              placeholder="Enter Vehicle No"
            />
          </div>
          <div class="col-6">
            <label for="">In-Time</label>
            <input
              type="text"
              [(ngModel)]="selectedParkedObj.inTime"
              class="form-control"
              disabled
              placeholder="Enter In-Time"
            />
          </div>
          <div class="col-6">
            <label for="">Mobile No</label>
            <input
              type="text"
              [(ngModel)]="selectedParkedObj.mobileNo"
              class="form-control"
              disabled
              placeholder="Enter Mobile"
            />
          </div>
          <div class="col-6">
            <label for="">Out-Time</label>
            <input
              type="text"
              [(ngModel)]="selectedParkedObj.outTime"
              class="form-control"
              placeholder="Enter In-Time"
            />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
          (click)="closeReleseModel()"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-success"
          data-bs-dismiss="modal"
          (click)="onReleseSpot()"
        >
          Mark Out
        </button>
      </div>
    </div>
  </div>
</div>
